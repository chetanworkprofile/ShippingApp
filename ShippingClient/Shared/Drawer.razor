@inherits LayoutComponentBase
<AuthorizeView>
    <Authorized>
        <MudAppBar Elevation="1" Dense="@dense">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@ToggleDrawer" />
            <MudSpacer />
            <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Person" Color="Color.Success">@context.User.Identity?.Name</MudButton>
            @*<MudChip Text="pink" Color="Color.Dark" Class="justify-content-center"><h4 style="margin: auto;">@context.User.Identity?.Name</h4></MudChip>*@
            @*<MudIconButton Icon="@Icons.Material.Outlined.MoreVert" Color="Color.Inherit" OnClick="@ToggleOpen"/>*@
            <MudMenu Icon="@Icons.Material.Outlined.MoreVert" Color="Color.Inherit"><TopPopOver /></MudMenu>
        </MudAppBar>
        <MudDrawer @bind-Open="@open" ClipMode="clipMode" Breakpoint="@breakpoint" PreserveOpenState="@preserveOpenState" Elevation="1" Variant="@DrawerVariant.Mini">
            <MudNavMenu>
                <NavMenu/>
            </MudNavMenu>
        </MudDrawer>
    </Authorized>
</AuthorizeView>
    
@code {
    bool open = false;
    bool dense = false;
    bool preserveOpenState = false;
    Breakpoint breakpoint = Breakpoint.Lg;
    DrawerClipMode clipMode = DrawerClipMode.Never;

    void ToggleDrawer()
    {
        open = !open;
    }
}